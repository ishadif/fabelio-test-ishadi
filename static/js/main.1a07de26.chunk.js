(this["webpackJsonpfabelio-test-ishadi"]=this["webpackJsonpfabelio-test-ishadi"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),l=n.n(c),u=(n(10),n(11),n(2)),i=n(1),s=r.a.createContext(null);var o=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)([{value:7,text:"1 week"},{value:14,text:"2 weeks"},{value:30,text:"1 month"},{value:">",text:"& more"}]),d=Object(i.a)(o,1)[0],m=Object(a.useState)([]),f=Object(i.a)(m,2),h=f[0],v=f[1],p=Object(a.useState)([]),b=Object(i.a)(p,2),E=b[0],y=b[1],j=Object(a.useState)([]),O=Object(i.a)(j,2),g=O[0],N=O[1],w=Object(a.useState)([]),k=Object(i.a)(w,2),C=k[0],S=k[1];return Object(a.useEffect)((function(){fetch("https://www.mocky.io/v2/5c9105cb330000112b649af8").then((function(e){return e.json()})).then((function(e){l(e.products);var t=e.furniture_styles.reduce((function(e,t){return[].concat(Object(u.a)(e),[{value:t.toLowerCase(),text:t}])}),[]);N(t)}))}),[]),r.a.createElement(s.Provider,{value:{products:c,productStyles:g,deliveryTimes:d,styleFilters:h,timeFilters:E,handleFiltersChange:function(e){"style"===e.type?v(e.data):y(e.data)},productSearch:C,handleProductSearch:function(e){return S(e)}}},e.children)};n(12),n(13);var d=function(e){var t=e.filters,n=e.handleFiltersChange,c=e.placeholder,l=Object(a.useState)(""),s=Object(i.a)(l,2),o=s[0],d=s[1],m=Object(a.useState)([]),f=Object(i.a)(m,2),h=f[0],v=f[1],p=Object(a.useState)(!1),b=Object(i.a)(p,2),E=b[0],y=b[1],j=Object(a.useState)(0),O=Object(i.a)(j,2),g=O[0],N=O[1],w=Object(a.useRef)(null),k=Object(a.useRef)(null);function C(e){k.current&&!k.current.contains(e.target)&&y(!1)}Object(a.useEffect)((function(){return document.addEventListener("click",C),function(){document.removeEventListener("click",C)}}),[]),Object(a.useEffect)((function(){n(h)}),[h]),Object(a.useEffect)((function(){N(E?w.current.getBoundingClientRect().height:0)}),[E,o]);var S=E?o?t.filter((function(e){return e.text.toString().toLowerCase().includes(o.toLowerCase())})):t:[];return r.a.createElement("div",{className:"checkbox-container",ref:k},r.a.createElement("input",{placeholder:c,className:"checkbox-input",onChange:function(e){var t=e.target.value;return d(t)},onFocus:function(){return y(!0)}}),r.a.createElement("ul",{ref:w,className:"results",style:{"--height":g}},S.map((function(e,t){return r.a.createElement("li",{key:e.value,className:"result",style:{"--i":t}},r.a.createElement("input",{type:"checkbox",name:e.value,value:e.value,defaultChecked:h.includes(e.value)}),r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{htmlFor:"furniture-styles"},e.text),r.a.createElement("div",{className:"checkbox-option","data-checked":h.includes(e.value),onClick:function(){return function(e){var t=Object(u.a)(h);if(h.includes(e)){var n=h.findIndex((function(t){return t===e}));t.splice(n,1)}else t.push(e);v(t)}(e.value)}})))}))))};var m=function(){var e=Object(a.useContext)(s),t=e.productStyles,n=e.deliveryTimes,c=e.handleFiltersChange,l=e.handleProductSearch,u=Object(a.useState)(""),o=Object(i.a)(u,2),m=o[0],f=o[1];return Object(a.useEffect)((function(){l(m)}),[l,m]),r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"inner"},r.a.createElement("div",{className:"header-row"},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"search furniture",value:m,onChange:function(e){var t=e.target.value;return f(t)}})),r.a.createElement("div",{className:"header-row"},r.a.createElement("div",{className:"header-col"},r.a.createElement(d,{placeholder:"Furniture Style",filters:t,handleFiltersChange:function(e){return c({type:"style",data:e})}})),r.a.createElement("div",{className:"header-col"},r.a.createElement(d,{placeholder:"Delivery Time",filters:n,handleFiltersChange:function(e){return c({type:"time",data:e})}})))))};n(14);var f=function(e){var t=e.product,n=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t.price);return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"product-title"},t.name),r.a.createElement("span",{className:"product-price"},n)),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"product-description"},t.description.slice(0,113)),r.a.createElement("div",{className:"product-styles"},t.furniture_style.map((function(e){return r.a.createElement("span",null,e)}))),r.a.createElement("p",{className:"product-delivery-time"},t.delivery_time," Day")))};var h=function(){var e=Object(a.useContext)(s),t=e.products,n=e.styleFilters,c=e.timeFilters,l=e.productSearch,u=[];function i(e){return e.furniture_style.filter((function(e){return n.includes(e.toLowerCase())}))}function o(e){return c.filter((function(t){return"number"!==typeof t?e.delivery_time>30:e.delivery_time<=t}))}return u=l?t.filter((function(e){return function(e){return e.name.toLowerCase().includes(l.toLowerCase())}(e)})):n.length>0&&c.length>0?t.filter((function(e){return i(e).length>0&&o(e).length>0})):n.length>0?t.filter((function(e){return i(e).length>0})):c.length>0?t.filter((function(e){return o(e).length>0})):t,r.a.createElement("div",{className:"inner"},r.a.createElement("div",{className:"container"},u.map((function(e){return r.a.createElement(f,{product:e,key:e.name})}))))};var v=function(){return r.a.createElement(o,null,r.a.createElement(m,null),r.a.createElement("main",null,r.a.createElement(h,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.1a07de26.chunk.js.map